var __extends=this&&this.__extends||function(){var u=function(e,t){u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return u(e,t)};return function(e,t){u(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();var KeyBoard=function(t){__extends(i,t);function i(){var e=t.call(this)||this;e.inputs=[];e.keyValue={27:i.Esc,112:i.F1,113:i.F2,114:i.F3,115:i.F4,116:i.F5,117:i.F6,118:i.F7,119:i.F8,120:i.F9,121:i.F10,122:i.F11,123:i.F12,42:i.PrintScreen,145:i.ScrollLock,19:i.PauseBreak,192:i.key_Points,49:i.key_1,50:i.key_2,51:i.key_3,52:i.key_4,53:i.key_5,54:i.key_6,55:i.key_7,56:i.key_8,57:i.key_9,48:i.key_0,189:i.key_Sub,187:i.key_Plus,8:i.Backspace,45:i.Insert,36:i.Home,33:i.PageUp,144:i.NumLock,111:i.Num_Slash,106:i.Num_Mul,109:i.Num_Sub,9:i.Tab,81:i.Q,87:i.W,69:i.E,82:i.R,84:i.T,89:i.Y,85:i.U,73:i.I,79:i.O,80:i.P,219:i.brace1,221:i.brace2,13:i.CnterEnter,46:i.Delete,35:i.End,34:i.PageDown,103:i.Num_7,104:i.Num_8,105:i.Num_9,107:i.Num_Plus,20:i.CapsLock,65:i.A,83:i.S,68:i.D,70:i.F,71:i.G,72:i.H,74:i.J,75:i.K,76:i.L,186:i.semicolon,222:i.quotes,220:i.bar,100:i.Num_4,101:i.Num_5,102:i.Num_6,16:i.key_Shift,90:i.Z,88:i.X,67:i.C,86:i.V,66:i.B,78:i.N,77:i.M,188:i.key_Semicolon,190:i.key_Dot,191:i.question,38:i.UpArrow,97:i.Num_1,98:i.Num_2,99:i.Num_3,17:i.left_Ctrl,91:i.Left_Win,18:i.key_Alt,32:i.SPACE,92:i.RIGHT_WIN,93:i.NoteSign,37:i.keyArrow,40:i.DownArrow,39:i.RightArrow,96:i.Num_0,110:i.Num_dot};e._resumeCB=e.resume.bind(e);e._pauseCB=e.pause.bind(e);window.addEventListener("focus",e._resumeCB,false);window.addEventListener("blur",e._pauseCB,false);e.init();return e}i.prototype.$dispose=function(){window.removeEventListener("focus",this._resumeCB,false);window.removeEventListener("blur",this._pauseCB,false)};i.prototype.resume=function(){if(this._isActive){return}this._isActive=true;this.freeAllKey()};i.prototype.pause=function(){if(!this._isActive){return}this._isActive=false};i.prototype.freeAllKey=function(){if(this.inputs.length<=0){return}this.inputs=[];this.dispatchEventWith(i.onkeyup,true,this.inputs,true)};i.prototype.init=function(){if(i._curInstance){i._curInstance.$dispose();i._curInstance=null}i._curInstance=this;var n=this;document.onkeydown=function(e){var t=e||window.event||arguments.callee.caller.arguments[0];n.handlekeydown(t);if(n.inputs.length>0){n.dispatchEventWith(i.onkeydown,true,n.inputs,true)}if(n.checkShieldingHotKey(t)){return false}};document.onkeyup=function(e){var t=e||window.event||arguments.callee.caller.arguments[0];n.handlekeyup(t);n.dispatchEventWith(i.onkeyup,true,n.inputs,true)}};i.prototype.handlekeydown=function(e){var t=""+e.keyCode;if(t in this.keyValue){this.checkInput(this.keyValue[t])}};i.prototype.handlekeyup=function(e){var t=""+e.keyCode;if(t in this.keyValue){this.removeByKey(this.keyValue[t])}};i.prototype.checkInput=function(e){var t=false;for(var n=0;n<this.inputs.length;n++){if(this.inputs[n]==e){t=true}}if(!t){this.inputs.push(e)}};i.prototype.removeByKey=function(e){for(var t=0;t<this.inputs.length;t++){if(this.inputs[t]==e){this.inputs.splice(t,1)}}};i.prototype.isContain=function(e,t){var n=false;for(var u=0;u<e.length;u++){if(e[u]==t){n=true}}return n};i.prototype.checkShieldingHotKey=function(e){var t="";for(var n in this.keyValue){if(parseInt(n)==e.keyCode){t=this.keyValue[n]}}for(var u=0;u<i.shieldingHotKey.length;u++){if(i.shieldingHotKey[u]==t){return true}}return false};i.setShieldingHotKey=function(e){i.shieldingHotKey=e};i.onkeydown="KeyBoardonkeydown";i.onkeyup="KeyBoardonkeyup";i.NumLock="NumLock";i.Num_Slash="num_/";i.Num_Mul="num_*";i.Num_Sub="num_-";i.Num_7="num_7";i.Num_8="num_8";i.Num_9="num_9";i.Num_Plus="num_+";i.Num_4="num_4";i.Num_5="num_5";i.Num_6="num_6";i.Num_1="num_1";i.Num_2="num_2";i.Num_3="num_3";i.Num_Enter="num_Enter";i.Num_0="num_0";i.Num_dot="num_.";i.Esc="Esc";i.F1="F1";i.F2="F2";i.F3="F3";i.F4="F4";i.F5="F5";i.F6="F6";i.F7="F7";i.F8="F8";i.F9="F9";i.F10="F10";i.F11="F11";i.F12="F12";i.PrintScreen="PrintScreen";i.ScrollLock="ScrollLock";i.PauseBreak="PauseBreak";i.key_Points="`";i.key_1="1";i.key_2="2";i.key_3="3";i.key_4="4";i.key_5="5";i.key_6="6";i.key_7="7";i.key_8="8";i.key_9="9";i.key_0="0";i.key_Sub="-";i.key_Plus="=";i.Backspace="Backspace";i.Insert="Insert";i.Home="Home";i.PageUp="PageUp";i.Tab="Tab";i.Q="Q";i.W="W";i.E="E";i.R="R";i.T="T";i.Y="Y";i.U="U";i.I="I";i.O="O";i.P="P";i.brace1="[";i.brace2="]";i.CnterEnter="Enter";i.Delete="Delete";i.End="End";i.PageDown="PageDown";i.CapsLock="CapsLock";i.A="A";i.S="S";i.D="D";i.F="F";i.G="G";i.H="H";i.J="J";i.K="K";i.L="L";i.semicolon=";";i.quotes=",";i.bar="|";i.key_Shift="Shift";i.Z="Z";i.X="X";i.C="C";i.V="V";i.B="B";i.N="N";i.M="M";i.key_Semicolon=",";i.key_Dot=".";i.question="/";i.Right_Shift="Shift";i.UpArrow="up";i.left_Ctrl="Ctrl";i.Left_Win="left_win";i.key_Alt="Alt";i.SPACE="SPACE";i.RIGH_Alt="RIGH_Alt";i.RIGHT_WIN="right_win";i.NoteSign="NoteSign";i.RIGHT_Ctrl="Ctrl";i.keyArrow="left";i.DownArrow="down";i.RightArrow="right";i.shieldingHotKey=[];return i}(egret.EventDispatcher);